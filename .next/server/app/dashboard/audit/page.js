(()=>{var e={};e.id=817,e.ids=[817],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8665:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>_,originalPathname:()=>u,pages:()=>l,routeModule:()=>h,tree:()=>d});var a=s(7096),r=s(6132),n=s(7284),i=s.n(n),o=s(2564),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(t,c);let d=["",{children:["dashboard",{children:["audit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9578)),"/Users/shochaso/Downloads/starlist-app/app/dashboard/audit/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"/Users/shochaso/Downloads/starlist-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/shochaso/Downloads/starlist-app/app/dashboard/audit/page.tsx"],u="/dashboard/audit/page",_={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/audit/page",pathname:"/dashboard/audit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6315:(e,t,s)=>{Promise.resolve().then(s.bind(s,946))},946:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>AuditDashboard});var a=s(784),r=s(9885),n=s(1440),i=s.n(n);function getVerdictColor(e){switch(e){case"pass":return"border-green-500 bg-green-50";case"warning":return"border-yellow-500 bg-yellow-50";case"fail":return"border-red-500 bg-red-50";default:return""}}function getVerdictBadge(e){switch(e){case"pass":return"✅";case"warning":return"⚠️";case"fail":return"❌";default:return""}}function KPIStat({label:e,value:t,hint:s,verdict:r,mean:n,stdDev:i,currentValue:o}){getVerdictColor(r),getVerdictBadge(r);let c=r;if(!r&&void 0!==n&&void 0!==i&&"number"==typeof o){let e=Math.abs(o-n);c=e>3*i?"fail":e>2*i?"warning":"pass"}let d=c||r,l=getVerdictColor(d),u=getVerdictBadge(d);return(0,a.jsxs)("div",{className:`rounded-2xl shadow p-4 border-2 ${l}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-xs opacity-60",children:e}),u&&a.jsx("span",{className:"text-lg",children:u})]}),a.jsx("div",{className:"text-2xl font-semibold",children:t}),s&&(0,a.jsxs)("div",{className:"text-xs opacity-60 mt-1",children:["Target: ",s]}),void 0!==n&&void 0!==i&&(0,a.jsxs)("div",{className:"text-xs opacity-50 mt-1",children:["μ=",n.toFixed(2),", σ=",i.toFixed(2)]})]})}!function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}();let o=[{w:"W-5",p95_latency_ms:2100,checkout_success_rate:.95},{w:"W-4",p95_latency_ms:1980,checkout_success_rate:.962},{w:"W-3",p95_latency_ms:1850,checkout_success_rate:.968},{w:"W-2",p95_latency_ms:1720,checkout_success_rate:.972},{w:"W-1",p95_latency_ms:1640,checkout_success_rate:.978}];function TrendChart({title:e,seriesKey:t,formatPercent:s}){return(0,a.jsxs)("div",{className:"rounded-2xl shadow p-4",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:e}),a.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{width:"100%",height:240,children:(0,a.jsxs)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{data:o,children:[a.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{strokeDasharray:"3 3"}),a.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{dataKey:"w"}),a.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{tickFormatter:e=>s?`${(100*e).toFixed(0)}%`:`${e}`}),a.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{formatter:e=>s?`${(100*e).toFixed(2)}%`:`${e}`}),a.jsx(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=CartesianGrid,Line,LineChart,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"monotone",dataKey:t,dot:!1})]})})]})}function calculateVerdict(e,t,s){let a=Math.abs(e-t);return a>3*s?"fail":a>2*s?"warning":"pass"}function AuditDashboard(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(null);(0,r.useEffect)(()=>{fetch("/dashboard/data/latest.json",{cache:"no-cache"}).then(e=>e.json()).then(t).catch(()=>t(null)),fetch("/dashboard/data/stats.json",{cache:"no-cache"}).then(e=>e.json()).then(n).catch(()=>n(null))},[]);let o=s&&e?calculateVerdict(e.slack_success_rate,s.mean,s.stdDev):void 0,c=s&&e?calculateVerdict(e.p95_latency_ms,s.mean,s.stdDev):void 0,d=s&&e?calculateVerdict(e.checkout_success_rate,s.mean,s.stdDev):void 0;return(0,a.jsxs)("div",{className:"p-6 grid gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Audit KPI Dashboard"}),(0,a.jsxs)("div",{className:"flex gap-2 text-sm",children:[a.jsx(i(),{href:"/docs/ops/RACI_MATRIX.md",className:"text-blue-600 hover:underline",children:"\uD83D\uDCCB RACI"}),a.jsx(i(),{href:"/docs/ops/RISK_REGISTER.md",className:"text-blue-600 hover:underline",children:"⚠️ リスク登録票"}),a.jsx(i(),{href:"/docs/ops/DASHBOARD_FINAL_CHECKLIST.md",className:"text-blue-600 hover:underline",children:"✅ 受入テスト"})]})]}),e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsx(KPIStat,{label:"Slack Success",value:`${(100*e.slack_success_rate).toFixed(2)}%`,hint:"≥ 99%",verdict:o,mean:s?.mean,stdDev:s?.stdDev,currentValue:e.slack_success_rate}),a.jsx(KPIStat,{label:"Day11 Count",value:e.day11_count}),a.jsx(KPIStat,{label:"p95 Latency",value:`${e.p95_latency_ms} ms`,hint:"< 2000ms",verdict:c,mean:s?.mean,stdDev:s?.stdDev,currentValue:e.p95_latency_ms}),a.jsx(KPIStat,{label:"Checkout Success",value:`${(100*e.checkout_success_rate).toFixed(2)}%`,hint:"≥ 96%",verdict:d,mean:s?.mean,stdDev:s?.stdDev,currentValue:e.checkout_success_rate}),a.jsx(KPIStat,{label:"Mismatches (today)",value:e.mismatches_today,hint:"= 0"}),a.jsx(KPIStat,{label:"Zero-Streak",value:`${e.mismatch_streak_zero_days} days`})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(TrendChart,{title:"Day11 p95(ms) — Weekly",seriesKey:"p95_latency_ms"}),a.jsx(TrendChart,{title:"Checkout Success — Weekly",seriesKey:"checkout_success_rate",formatPercent:!0})]}),(0,a.jsxs)("div",{className:"text-xs opacity-60",children:["Updated at: ",new Date(e.updated_at).toLocaleString("ja-JP",{timeZone:"Asia/Tokyo"})]}),a.jsx("footer",{className:"mt-8 pt-4 border-t border-gray-200",children:a.jsx("div",{className:"text-xs opacity-60",children:a.jsx(i(),{href:"/docs/planning/DAY12_10X_EXECUTION_PROMPTS.md",className:"text-blue-600 hover:underline",children:"\uD83D\uDCE6 Day12 10\xd7強化パック"})})})]}):a.jsx("div",{className:"text-sm opacity-70",children:"Loading latest KPI…"})]})}},9578:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>c});var a=s(5153);let r=(0,a.createProxy)(String.raw`/Users/shochaso/Downloads/starlist-app/app/dashboard/audit/page.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default,c=o},784:(e,t,s)=>{"use strict";e.exports=s(316).vendored["react-ssr"].ReactJsxRuntime}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,440,476],()=>__webpack_exec__(8665));module.exports=s})();